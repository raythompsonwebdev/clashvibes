/*! clashvibes 26-08-2019 */

var audioControls=document.getElementById("audio_controls");document.createElement("audio").canPlayType||(audioControls.style.display="none");var audio=document.querySelector("audio"),playToggle=document.getElementById("play_toggle");playToggle.addEventListener("click",function(){audio.paused?(audio.play(),audio.preload="metadata",this.innerHTML='<i class="fa fa-pause" aria-hidden="true" title="Pause"></i>'):(audio.pause(),this.innerHTML='<i class="fa fa-play" aria-hidden="true" title="Play"></i>')});var rewindBtn=document.getElementById("rewind");rewindBtn.addEventListener("click",function(){this.innerHTML='<i class="fa fa-backward" aria-hidden="true" title="Backward"></i>',audio.currentTime-=10});var forwardBtn=document.getElementById("forward");forwardBtn.addEventListener("click",function(){this.innerHTML='<i class="fa fa-forward" aria-hidden="true" title="Forward"></i>',audio.currentTime+=10});var playProgress=document.getElementById("play_progress");audio.addEventListener("timeupdate",function(){var e=this.currentTime/this.duration*100;playProgress.style.width=e+"%"});var loadProgress=document.getElementById("load_progress");function updateLoadProgress(){if(0<audio.buffered.length){var e=audio.buffered.end(0)/audio.duration*100;loadProgress.style.width=e+"%"}}audio.addEventListener("progress",function(){updateLoadProgress()}),audio.addEventListener("loadeddata",function(){updateLoadProgress()}),audio.addEventListener("canplaythrough",function(){updateLoadProgress()}),audio.addEventListener("playing",function(){updateLoadProgress()});var durationtime=document.getElementById("duration_time"),currenttime=document.getElementById("current_time");function formatTime(e){e=Math.round(e);var a=Math.floor(e/60);return(a=10<=a?a:"0"+a)+":"+(e=10<=(e=Math.floor(e%60))?e:"0"+e)}audio.addEventListener("timeupdate",function(){currenttime.innerHTML=formatTime(this.currentTime)}),audio.addEventListener("durationchange",function(){durationtime.innerHTML=formatTime(this.duration)});var volume=document.getElementById("volume");volume.addEventListener("change",function(e){audio.volume=e.target.value});var seek=document.getElementById("seek"),playback=document.getElementById("playback");function updateseekmax(e){e.target.duration&&(seek.max=e.target.duration)}function updateplaybackmax(e){e.target.duration&&(playback.max=e.target.duration)}function seekhandler(e){audio.currentTime=e.target.value,playback.value=e.target.value}audio.addEventListener("durationchange",updateseekmax),audio.addEventListener("durationchange",updateplaybackmax),seek.addEventListener("change",seekhandler);