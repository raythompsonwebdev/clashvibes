/*! clashvibes 26-08-2019 */

var videoControls=document.getElementById("video_controls");document.createElement("video").canPlayType||(videoControls.style.display="none");var video=document.querySelector("video"),playToggle=document.getElementById("play_toggle");playToggle.addEventListener("click",function(){video.paused?(video.play(),video.preload="metadata",this.innerHTML='<i class="fa fa-pause" aria-hidden="true" title="Pause"></i>'):(video.pause(),this.innerHTML='<i class="fa fa-play" aria-hidden="true" title="Play"></i>')});var rewindBtn=document.getElementById("rewind");rewindBtn.addEventListener("click",function(){this.innerHTML='<i class="fa fa-backward" aria-hidden="true" title="Backward"></i>',video.currentTime-=10});var forwardBtn=document.getElementById("forward");forwardBtn.addEventListener("click",function(){this.innerHTML='<i class="fa fa-forward" aria-hidden="true" title="Forward"></i>',video.currentTime+=10});var playProgress=document.getElementById("play_progress");video.addEventListener("timeupdate",function(){var e=this.currentTime/this.duration*100;playProgress.style.width=e+"%"});var loadProgress=document.getElementById("load_progress");function updateLoadProgress(){if(0<video.buffered.length){var e=video.buffered.end(0)/video.duration*100;loadProgress.style.width=e+"%"}}video.addEventListener("progress",function(){updateLoadProgress()}),video.addEventListener("loadeddata",function(){updateLoadProgress()}),video.addEventListener("canplaythrough",function(){updateLoadProgress()}),video.addEventListener("playing",function(){updateLoadProgress()});var durationtime=document.getElementById("duration_time"),currenttime=document.getElementById("current_time");function formatTime(e){e=Math.round(e);var t=Math.floor(e/60);return(t=10<=t?t:"0"+t)+":"+(e=10<=(e=Math.floor(e%60))?e:"0"+e)}video.addEventListener("timeupdate",function(){currenttime.innerHTML=formatTime(this.currentTime)}),video.addEventListener("durationchange",function(){durationtime.innerHTML=formatTime(this.duration)});var volume=document.getElementById("volume");volume.addEventListener("change",function(e){video.volume=e.target.value});var seek=document.getElementById("seek"),playback=document.getElementById("playback");function updateseekmax(e){e.target.duration&&(seek.max=e.target.duration)}function updateplaybackmax(e){e.target.duration&&(playback.max=e.target.duration)}function seekhandler(e){video.currentTime=e.target.value,playback.value=e.target.value}video.addEventListener("durationchange",updateseekmax),video.addEventListener("durationchange",updateplaybackmax),seek.addEventListener("change",seekhandler);